{"ast":null,"code":"import { reactive, toRefs, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport DeleteConfirmationAlert from \"./Alerts/DeleteConfirmationAlert.vue\";\nexport default {\n  name: \"HouseCard\",\n  props: {\n    houseprop: {\n      type: null,\n      required: true\n    },\n    isRecommandation: {\n      type: Boolean,\n      default: false,\n      required: false\n    }\n  },\n  setup(props, context) {\n    const store = useStore();\n    const state = reactive({\n      showAlert: false\n    });\n    const isFavorite = computed({\n      get: () => {\n        console.log('get');\n        console.log(store.getters[\"favoriteStore/isFavorite\"](props.houseprop.id));\n        console.log('get');\n        return store.getters[\"favoriteStore/isFavorite\"](props.houseprop.id);\n      },\n      set: value => {\n        store.dispatch(value ? \"favoriteStore/addToFavorites\" : \"favoriteStore/removeFromFavorites\", props.houseprop.id);\n        console.log('set');\n        console.log(value);\n        console.log('set');\n        return value;\n      }\n    });\n    function toggleAlert(showAlert) {\n      state.showAlert = showAlert;\n      context.emit(\"toggleAlert\", showAlert);\n    }\n    function toggleFavorite() {\n      console.log(\"isFavorite.value\");\n      console.log(isFavorite);\n      isFavorite.value = !isFavorite.value;\n      console.log(isFavorite.value);\n      console.log(\"isFavorite.value\");\n    }\n    return {\n      ...toRefs(state),\n      toggleAlert,\n      isFavorite,\n      toggleFavorite\n    };\n  },\n  emits: [\"toggleAlert\"],\n  components: {\n    DeleteConfirmationAlert\n  }\n};","map":{"version":3,"mappings":"AA+FA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,QAAO,QAAS,KAAK;AAChD,SAASC,QAAO,QAAS,MAAM;AAC/B,OAAOC,uBAAsB,MAAO,sCAAsC;AAE1E,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,KAAK,EAAE;IACLC,SAAS,EAAE;MACTC,IAAI,EAAE,IAAI;MACVC,QAAQ,EAAE;IACZ,CAAC;IACDC,gBAAgB,EAAE;MAChBF,IAAI,EAAEG,OAAO;MACbC,OAAO,EAAE,KAAK;MACdH,QAAQ,EAAE;IACZ;EACF,CAAC;EACDI,KAAK,CAACP,KAAK,EAAEQ,OAAO,EAAE;IACpB,MAAMC,KAAI,GAAIZ,QAAQ,EAAE;IAExB,MAAMa,KAAI,GAAIhB,QAAQ,CAAC;MACrBiB,SAAS,EAAE;IACb,CAAC,CAAC;IAEF,MAAMC,UAAS,GAAIhB,QAAQ,CAAC;MAC1BiB,GAAG,EAAE,MAAM;QACTC,OAAO,CAACC,GAAG,CAAC,KAAK;QACjBD,OAAO,CAACC,GAAG,CAACN,KAAK,CAACO,OAAO,CAAC,0BAA0B,CAAC,CAAChB,KAAK,CAACC,SAAS,CAACgB,EAAE,CAAC;QACzEH,OAAO,CAACC,GAAG,CAAC,KAAK;QACjB,OAAON,KAAK,CAACO,OAAO,CAAC,0BAA0B,CAAC,CAAChB,KAAK,CAACC,SAAS,CAACgB,EAAE,CAAC;MACtE,CAAC;MACDC,GAAG,EAAGC,KAAK,IAAK;QACdV,KAAK,CAACW,QAAQ,CACZD,KAAI,GACA,8BAA6B,GAC7B,mCAAmC,EACvCnB,KAAK,CAACC,SAAS,CAACgB,EAAC,CAClB;QACDH,OAAO,CAACC,GAAG,CAAC,KAAK;QACjBD,OAAO,CAACC,GAAG,CAACI,KAAK;QACjBL,OAAO,CAACC,GAAG,CAAC,KAAK;QAEjB,OAAOI,KAAK;MACd;IACF,CAAC,CAAC;IAEF,SAASE,WAAW,CAACV,SAAS,EAAE;MAC9BD,KAAK,CAACC,SAAQ,GAAIA,SAAS;MAC3BH,OAAO,CAACc,IAAI,CAAC,aAAa,EAAEX,SAAS,CAAC;IACxC;IAEA,SAASY,cAAc,GAAG;MACxBT,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MAC/BD,OAAO,CAACC,GAAG,CAACH,UAAU,CAAC;MACvBA,UAAU,CAACO,KAAI,GAAI,CAACP,UAAU,CAACO,KAAK;MACpCL,OAAO,CAACC,GAAG,CAACH,UAAU,CAACO,KAAK,CAAC;MAC7BL,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;IACjC;IAEA,OAAO;MACL,GAAGpB,MAAM,CAACe,KAAK,CAAC;MAChBW,WAAW;MACXT,UAAU;MAEVW;IACF,CAAC;EACH,CAAC;EACDC,KAAK,EAAE,CAAC,aAAa,CAAC;EACtBC,UAAU,EAAE;IACV3B;EACF;AACF,CAAC","names":["reactive","toRefs","computed","useStore","DeleteConfirmationAlert","name","props","houseprop","type","required","isRecommandation","Boolean","default","setup","context","store","state","showAlert","isFavorite","get","console","log","getters","id","set","value","dispatch","toggleAlert","emit","toggleFavorite","emits","components"],"sourceRoot":"","sources":["/Users/frostmoon/Documents/DTT projects/Vue js/house-listing-app/src/components/HouseCardComponent.vue"],"sourcesContent":["<template>\n  <div class=\"card\" :class=\"{ recommandation: isRecommandation }\">\n    <img\n      class=\"image\"\n      v-if=\"houseprop.image\"\n      :src=\"houseprop.image\"\n      alt=\"HouseImg\"\n    />\n    <img\n      class=\"image\"\n      v-else\n      src=\"@/assets/img_placeholder_house@3x.png\"\n      alt=\"HouseImg\"\n    />\n    <div class=\"container\">\n      {{ isFavorite }}\n\n      <div class=\"card-header tab-button element\">\n        {{ houseprop.location.street }}\n        <div class=\"card-header\">\n          <router-link\n            v-if=\"houseprop.id\"\n            style=\"text-decoration: none; color: inherit\"\n            :to=\"{ name: 'updateHouse', params: { houseId: houseprop.id } }\"\n          >\n            <img\n              v-if=\"houseprop.madeByMe\"\n              src=\"@/assets/ic_edit@3x.png\"\n              alt=\"delete-icon\"\n              width=\"15\"\n              height=\"15\"\n            />\n          </router-link>\n          <div class=\"spacer\" />\n          <img\n            v-if=\"houseprop.madeByMe\"\n            src=\"@/assets/ic_delete@3x.png\"\n            alt=\"delete-icon\"\n            width=\"15\"\n            height=\"15\"\n            @click.prevent=\"toggleAlert(true)\"\n          />\n          <div class=\"spacer\" />\n          <img\n            v-if=\"isFavorite\"\n            src=\"@/assets/favorite-on.png\"\n            alt=\"avorite-on-icon\"\n            width=\"15\"\n            height=\"15\"\n            @click.prevent=\"toggleFavorite()\"\n          />\n          <img\n            v-else\n            src=\"@/assets/favorite-off.png\"\n            alt=\"favorite-off-icon\"\n            width=\"15\"\n            height=\"15\"\n            @click.prevent=\"toggleFavorite()\"\n          />\n        </div>\n      </div>\n      <div class=\"body-text element\">\n        € {{ houseprop.price.toLocaleString(\"en-US\") }}\n      </div>\n      <div class=\"listing-information text-grey element\">\n        {{ houseprop.location.zip }} {{ houseprop.location.city }}\n      </div>\n      <div class=\"listing-information text-grey\">\n        <img src=\"@/assets/ic_bed@3x.png\" alt=\"ic_bed\" width=\"10\" height=\"10\" />\n        {{ houseprop.rooms.bedrooms }}\n        <img\n          src=\"@/assets/ic_bath@3x.png\"\n          alt=\"ic_bath\"\n          width=\"10\"\n          height=\"10\"\n        />\n        {{ houseprop.rooms.bathrooms }}\n        <img\n          src=\"@/assets/ic_size@3x.png\"\n          alt=\"ic_size\"\n          width=\"10\"\n          height=\"10\"\n        />\n        {{ houseprop.size }} m²\n      </div>\n    </div>\n  </div>\n  <DeleteConfirmationAlert\n    :houseId=\"houseprop.id\"\n    v-if=\"showAlert\"\n    @hideAlert=\"toggleAlert(false)\"\n  />\n</template>\n\n<script>\nimport { reactive, toRefs, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport DeleteConfirmationAlert from \"./Alerts/DeleteConfirmationAlert.vue\";\n\nexport default {\n  name: \"HouseCard\",\n  props: {\n    houseprop: {\n      type: null,\n      required: true,\n    },\n    isRecommandation: {\n      type: Boolean,\n      default: false,\n      required: false,\n    },\n  },\n  setup(props, context) {\n    const store = useStore();\n\n    const state = reactive({\n      showAlert: false,\n    });\n\n    const isFavorite = computed({\n      get: () => {\n        console.log('get')\n        console.log(store.getters[\"favoriteStore/isFavorite\"](props.houseprop.id))\n        console.log('get')\n        return store.getters[\"favoriteStore/isFavorite\"](props.houseprop.id);\n      },\n      set: (value) => {\n        store.dispatch(\n          value\n            ? \"favoriteStore/addToFavorites\"\n            : \"favoriteStore/removeFromFavorites\",\n          props.houseprop.id\n        );\n        console.log('set')\n        console.log(value)\n        console.log('set')\n\n        return value;\n      },\n    });\n\n    function toggleAlert(showAlert) {\n      state.showAlert = showAlert;\n      context.emit(\"toggleAlert\", showAlert);\n    }\n\n    function toggleFavorite() {\n      console.log(\"isFavorite.value\");\n      console.log(isFavorite);\n      isFavorite.value = !isFavorite.value;\n      console.log(isFavorite.value);\n      console.log(\"isFavorite.value\");\n    }\n\n    return {\n      ...toRefs(state),\n      toggleAlert,\n      isFavorite,\n\n      toggleFavorite,\n    };\n  },\n  emits: [\"toggleAlert\"],\n  components: {\n    DeleteConfirmationAlert,\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.card {\n  transition: 0.3s;\n  width: 100%;\n  border-radius: 5px;\n  display: flex;\n  background: map-get($colors, BACKGROUND2);\n  margin-bottom: 20px;\n\n  &:hover {\n    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);\n  }\n  .card-header {\n    display: flex;\n    justify-content: space-between;\n  }\n  .image {\n    border-radius: 15px;\n    padding: 10px;\n    width: 15%;\n  }\n\n  .container {\n    margin: 2%;\n    width: 80%;\n    .element {\n      margin-bottom: 5px;\n    }\n  }\n  .spacer {\n    width: 10px;\n  }\n}\n\n.recommandation {\n  .image {\n    border-radius: 15px;\n    padding: 10px;\n    width: 26%;\n  }\n  .tab-button {\n    font-size: 16px;\n  }\n  .listing-information {\n    font-size: 14px;\n  }\n  .body-text {\n    @extend .openSans-Regular;\n    font-size: 14px;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}