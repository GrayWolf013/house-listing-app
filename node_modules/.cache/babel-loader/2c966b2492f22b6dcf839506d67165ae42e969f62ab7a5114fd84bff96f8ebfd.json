{"ast":null,"code":"import { reactive, toRefs, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport UploadImageComponent from \"./uploadImageComponent.vue\";\nexport default {\n  name: \"HouseListingForm\",\n  props: {\n    houseId: {\n      type: null,\n      required: true\n    }\n  },\n  setup(props, context) {\n    const store = useStore();\n    const state = reactive({\n      buttonClicked: false,\n      previewImage: null\n    });\n    const house = computed(() => {\n      return store.getters.getByIdEditModel(props.houseId);\n    });\n    function uploadImage(e) {\n      const image = e.target.files[0];\n      const reader = new FileReader();\n      reader.readAsDataURL(image);\n      reader.onload = e => {\n        state.previewImage = e.target.result;\n        context.emit(\"selectImage\", {\n          image: image,\n          previewImage: state.previewImage\n        });\n      };\n    }\n    function submitButtonClicked() {\n      state.buttonClicked = true;\n    }\n    function submitForm() {\n      context.emit(\"submitForm\", house.value);\n    }\n    return {\n      ...toRefs(state),\n      house,\n      uploadImage,\n      submitButtonClicked,\n      submitForm\n    };\n  },\n  components: {\n    UploadImageComponent\n  }\n};","map":{"version":3,"mappings":"AA8HA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,QAAO,QAAS,KAAK;AAChD,SAASC,QAAO,QAAS,MAAM;AAC/B,OAAOC,oBAAmB,MAAO,4BAA4B;AAE7D,eAAe;EACXC,IAAI,EAAE,kBAAkB;EACxBC,KAAK,EAAE;IACHC,OAAO,EAAE;MACLC,IAAI,EAAE,IAAI;MACVC,QAAQ,EAAE;IACd;EACJ,CAAC;EACDC,KAAK,CAACJ,KAAK,EAAEK,OAAO,EAAE;IAClB,MAAMC,KAAI,GAAIT,QAAQ,EAAE;IACxB,MAAMU,KAAI,GAAIb,QAAQ,CAAC;MACnBc,aAAa,EAAE,KAAK;MACpBC,YAAY,EAAE;IAClB,CAAC,CAAC;IACF,MAAMC,KAAI,GAAId,QAAQ,CAAC,MAAM;MACzB,OAAOU,KAAK,CAACK,OAAO,CAACC,gBAAgB,CAACZ,KAAK,CAACC,OAAO,CAAC;IACxD,CAAC,CAAC;IACF,SAASY,WAAW,CAACC,CAAC,EAAE;MACpB,MAAMC,KAAI,GAAID,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAC/B,MAAMC,MAAK,GAAI,IAAIC,UAAU,EAAE;MAC/BD,MAAM,CAACE,aAAa,CAACL,KAAK,CAAC;MAC3BG,MAAM,CAACG,MAAK,GAAKP,CAAC,IAAK;QACnBP,KAAK,CAACE,YAAW,GAAIK,CAAC,CAACE,MAAM,CAACM,MAAM;QACpCjB,OAAO,CAACkB,IAAI,CAAC,aAAa,EAAE;UACxBR,KAAK,EAAEA,KAAK;UACZN,YAAY,EAAEF,KAAK,CAACE;QACxB,CAAC,CAAC;MACN,CAAC;IACL;IACA,SAASe,mBAAmB,GAAG;MAC3BjB,KAAK,CAACC,aAAY,GAAI,IAAI;IAC9B;IACA,SAASiB,UAAU,GAAG;MAClBpB,OAAO,CAACkB,IAAI,CAAC,YAAY,EAAEb,KAAK,CAACgB,KAAK,CAAC;IAC3C;IACA,OAAO;MACH,GAAG/B,MAAM,CAACY,KAAK,CAAC;MAChBG,KAAK;MACLG,WAAW;MACXW,mBAAmB;MACnBC;IACJ,CAAC;EACL,CAAC;EACDE,UAAU,EAAE;IAAE7B;EAAqB;AACvC,CAAC","names":["reactive","toRefs","computed","useStore","UploadImageComponent","name","props","houseId","type","required","setup","context","store","state","buttonClicked","previewImage","house","getters","getByIdEditModel","uploadImage","e","image","target","files","reader","FileReader","readAsDataURL","onload","result","emit","submitButtonClicked","submitForm","value","components"],"sourceRoot":"","sources":["/Users/frostmoon/Documents/DTT projects/Vue js/house-listing-app/src/components/HouseListingForm.vue"],"sourcesContent":["<template>\n  <form @submit.prevent=\"submitForm\">\n    <div class=\"input-field-title\">Street name*</div>\n    <input\n      type=\"text\"\n      placeholder=\"Enter the street name\"\n      v-model=\"house.streetName\"\n      :class=\"{ error: !house.streetName && buttonClicked }\"\n      required\n    />\n    <div class=\"flex\">\n      <div>\n        <div class=\"input-field-title\">House number*</div>\n        <input\n          type=\"number\"\n          placeholder=\"Enter the house number\"\n          v-model=\"house.houseNumber\"\n          :class=\"{ error: !house.houseNumber && buttonClicked }\"\n          required\n        />\n      </div>\n      <div class=\"spacer\" />\n      <div>\n        <div class=\"input-field-title\">Addition (optional)</div>\n        <input\n          type=\"number\"\n          placeholder=\"e.g. A\"\n          v-model=\"house.numberAddition\"\n        />\n      </div>\n    </div>\n    <div class=\"input-field-title\">Postal Code*</div>\n    <input\n      type=\"text\"\n      placeholder=\"e.g. 1000 AA\"\n      v-model=\"house.zip\"\n      :class=\"{ error: !house.zip && buttonClicked }\"\n      required\n    />\n    <div class=\"input-field-title\">City*</div>\n    <input\n      type=\"text\"\n      placeholder=\"e.g. Utrecht\"\n      v-model=\"house.city\"\n      :class=\"{ error: !house.city && buttonClicked }\"\n      required\n    />\n    <div class=\"input-field-title\">Upload picture (PNG or JPG)*</div>\n    <UploadImageComponent :previewImage=\"previewImage\" :houseImage=\"house.image\"/>\n\n\n    <div class=\"input-field-title\">Price*</div>\n    <input\n      type=\"number\"\n      placeholder=\"e.g. €150.000\"\n      v-model=\"house.price\"\n      :class=\"{ error: !house.price && buttonClicked }\"\n      required\n    />\n    <div class=\"flex\">\n      <div>\n        <div class=\"input-field-title\">Size*</div>\n        <input\n          type=\"number\"\n          placeholder=\"e.g. 60m²\"\n          v-model=\"house.size\"\n          :class=\"{ error: !house.size && buttonClicked }\"\n          required\n        />\n      </div>\n      <div class=\"spacer\" />\n      <div>\n        <div class=\"input-field-title\">Garage*</div>\n        <select v-model=\"house.hasGarage\">\n          <option value=\"false\">no</option>\n          <option value=\"true\">yes</option>\n        </select>\n      </div>\n    </div>\n    <div class=\"flex\">\n      <div>\n        <div class=\"input-field-title\">Bedrooms*</div>\n        <input\n          type=\"number\"\n          placeholder=\"Enter amount\"\n          v-model=\"house.bedrooms\"\n          :class=\"{ error: !house.bedrooms && buttonClicked }\"\n          required\n        />\n      </div>\n      <div class=\"spacer\" />\n      <div>\n        <div class=\"input-field-title\">Bathrooms*</div>\n        <input\n          type=\"number\"\n          placeholder=\"Enter amount\"\n          v-model=\"house.bathrooms\"\n          :class=\"{ error: !house.bathrooms && buttonClicked }\"\n          required\n        />\n      </div>\n    </div>\n    <div class=\"input-field-title\">Construction date*</div>\n    <input\n      type=\"number\"\n      placeholder=\"e.g. 1900\"\n      v-model=\"house.constructionYear\"\n      :class=\"{ error: !house.constructionYear && buttonClicked }\"\n      required\n    />\n    <div class=\"input-field-title\">Description*</div>\n    <textarea\n      cols=\"30\"\n      rows=\"10\"\n      placeholder=\"Enter description\"\n      v-model=\"house.description\"\n      :class=\"{ error: !house.description && buttonClicked }\"\n      required\n    />\n    <div class=\"btn-container\">\n      <button class=\"btn\" @click=\"submitButtonClicked\">POST</button>\n    </div>\n  </form>\n</template>\n\n<script>\nimport { reactive, toRefs, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport UploadImageComponent from \"./uploadImageComponent.vue\";\n\nexport default {\n    name: \"HouseListingForm\",\n    props: {\n        houseId: {\n            type: null,\n            required: true,\n        },\n    },\n    setup(props, context) {\n        const store = useStore();\n        const state = reactive({\n            buttonClicked: false,\n            previewImage: null,\n        });\n        const house = computed(() => {\n            return store.getters.getByIdEditModel(props.houseId);\n        });\n        function uploadImage(e) {\n            const image = e.target.files[0];\n            const reader = new FileReader();\n            reader.readAsDataURL(image);\n            reader.onload = (e) => {\n                state.previewImage = e.target.result;\n                context.emit(\"selectImage\", {\n                    image: image,\n                    previewImage: state.previewImage,\n                });\n            };\n        }\n        function submitButtonClicked() {\n            state.buttonClicked = true;\n        }\n        function submitForm() {\n            context.emit(\"submitForm\", house.value);\n        }\n        return {\n            ...toRefs(state),\n            house,\n            uploadImage,\n            submitButtonClicked,\n            submitForm,\n        };\n    },\n    components: { UploadImageComponent }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.flex {\n  display: flex;\n}\n.input-field-title {\n  margin: 10px 0;\n}\n.spacer {\n  width: 20px;\n}\n.btn-container {\n  margin: 50px 275px;\n}\n.uploading-image {\n  width: 100px;\n  height: 100px;\n  border-radius: 5px;\n}\n.error {\n  border: 1px solid red;\n  &::placeholder {\n    color: red;\n    opacity: 1; /* Firefox */\n  }\n\n  &:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    color: red;\n  }\n\n  &::-ms-input-placeholder {\n    /* Microsoft Edge */\n    color: red;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}