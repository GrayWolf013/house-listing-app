{"ast":null,"code":"import { reactive, toRefs, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport DeleteConfirmationAlert from \"./Alerts/DeleteConfirmationAlert.vue\";\nexport default {\n  name: \"HouseCard\",\n  props: {\n    houseprop: {\n      type: null,\n      required: true\n    },\n    isRecommandation: {\n      type: Boolean,\n      default: false,\n      required: false\n    }\n  },\n  setup(props, context) {\n    const store = useStore();\n    const state = reactive({\n      showAlert: false\n    });\n    const isFavorite = computed({\n      get: () => {\n        return store.getters[\"favoriteStore/isFavorite\"](props.houseprop.id);\n      },\n      set: value => {\n        return value;\n      }\n    });\n    function toggleAlert(showAlert) {\n      state.showAlert = showAlert;\n      context.emit(\"toggleAlert\", showAlert);\n    }\n    function toggleFavorite(favorite) {\n      favorite = !favorite;\n      if (favorite == false) {\n        console.log(isFavorite);\n        store.dispatch(\"favoriteStore/addToFavorites\", props.houseprop.id);\n      } else {\n        console.log(isFavorite);\n        store.dispatch(\"favoriteStore/removeFromFavorites\", props.houseprop.id);\n      }\n    }\n    return {\n      ...toRefs(state),\n      toggleAlert,\n      isFavorite,\n      toggleFavorite\n    };\n  },\n  emits: [\"toggleAlert\"],\n  components: {\n    DeleteConfirmationAlert\n  }\n};","map":{"version":3,"mappings":"AA6FA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,QAAO,QAAS,KAAK;AAChD,SAASC,QAAO,QAAS,MAAM;AAC/B,OAAOC,uBAAsB,MAAO,sCAAsC;AAE1E,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,KAAK,EAAE;IACLC,SAAS,EAAE;MACTC,IAAI,EAAE,IAAI;MACVC,QAAQ,EAAE;IACZ,CAAC;IACDC,gBAAgB,EAAE;MAChBF,IAAI,EAAEG,OAAO;MACbC,OAAO,EAAE,KAAK;MACdH,QAAQ,EAAE;IACZ;EACF,CAAC;EACDI,KAAK,CAACP,KAAK,EAAEQ,OAAO,EAAE;IACpB,MAAMC,KAAI,GAAIZ,QAAQ,EAAE;IAExB,MAAMa,KAAI,GAAIhB,QAAQ,CAAC;MACrBiB,SAAS,EAAE;IACb,CAAC,CAAC;IAEF,MAAMC,UAAS,GAAIhB,QAAQ,CAAC;MAC1BiB,GAAG,EAAE,MAAM;QACT,OAAOJ,KAAK,CAACK,OAAO,CAAC,0BAA0B,CAAC,CAACd,KAAK,CAACC,SAAS,CAACc,EAAE,CAAC;MACtE,CAAC;MACDC,GAAG,EAAGC,KAAK,IAAK;QACd,OAAOA,KAAK;MACd;IACF,CAAC,CAAC;IAEF,SAASC,WAAW,CAACP,SAAS,EAAE;MAC9BD,KAAK,CAACC,SAAQ,GAAIA,SAAS;MAC3BH,OAAO,CAACW,IAAI,CAAC,aAAa,EAAER,SAAS,CAAC;IACxC;IAEA,SAASS,cAAc,CAACC,QAAQ,EAAE;MAChCA,QAAO,GAAI,CAACA,QAAO;MACnB,IAAIA,QAAO,IAAK,KAAK,EAAE;QACrBC,OAAO,CAACC,GAAG,CAACX,UAAU,CAAC;QACvBH,KAAK,CAACe,QAAQ,CAAC,8BAA8B,EAAExB,KAAK,CAACC,SAAS,CAACc,EAAE,CAAC;MACpE,OAAO;QACLO,OAAO,CAACC,GAAG,CAACX,UAAU,CAAC;QACvBH,KAAK,CAACe,QAAQ,CAAC,mCAAmC,EAAExB,KAAK,CAACC,SAAS,CAACc,EAAE,CAAC;MACzE;IACF;IAEA,OAAO;MACL,GAAGpB,MAAM,CAACe,KAAK,CAAC;MAChBQ,WAAW;MACXN,UAAU;MAEVQ;IACF,CAAC;EACH,CAAC;EACDK,KAAK,EAAE,CAAC,aAAa,CAAC;EACtBC,UAAU,EAAE;IACV5B;EACF;AACF,CAAC","names":["reactive","toRefs","computed","useStore","DeleteConfirmationAlert","name","props","houseprop","type","required","isRecommandation","Boolean","default","setup","context","store","state","showAlert","isFavorite","get","getters","id","set","value","toggleAlert","emit","toggleFavorite","favorite","console","log","dispatch","emits","components"],"sourceRoot":"","sources":["/Users/frostmoon/Documents/DTT projects/Vue js/house-listing-app/src/components/HouseCardComponent.vue"],"sourcesContent":["<template>\n  <div class=\"card\" :class=\"{ recommandation: isRecommandation }\">\n    <img\n      class=\"image\"\n      v-if=\"houseprop.image\"\n      :src=\"houseprop.image\"\n      alt=\"HouseImg\"\n    />\n    <img\n      class=\"image\"\n      v-else\n      src=\"@/assets/img_placeholder_house@3x.png\"\n      alt=\"HouseImg\"\n    />\n    <div class=\"container\">\n      <div class=\"card-header tab-button element\">\n        {{ houseprop.location.street }}\n        <div class=\"card-header\">\n          <router-link\n            v-if=\"houseprop.id\"\n            style=\"text-decoration: none; color: inherit\"\n            :to=\"{ name: 'updateHouse', params: { houseId: houseprop.id } }\"\n          >\n            <img\n              v-if=\"houseprop.madeByMe\"\n              src=\"@/assets/ic_edit@3x.png\"\n              alt=\"delete-icon\"\n              width=\"15\"\n              height=\"15\"\n            />\n          </router-link>\n          <div class=\"spacer\" />\n          <img\n            v-if=\"houseprop.madeByMe\"\n            src=\"@/assets/ic_delete@3x.png\"\n            alt=\"delete-icon\"\n            width=\"15\"\n            height=\"15\"\n            @click.prevent=\"toggleAlert(true)\"\n          />\n          <div class=\"spacer\" />\n          <img\n            v-if=\"isFavorite\"\n            src=\"@/assets/favorite-on.png\"\n            alt=\"avorite-on-icon\"\n            width=\"15\"\n            height=\"15\"\n            @click.prevent=\"toggleFavorite(isFavorite)\"\n          />\n          <img\n            v-else\n            src=\"@/assets/favorite-off.png\"\n            alt=\"favorite-off-icon\"\n            width=\"15\"\n            height=\"15\"\n            @click.prevent=\"toggleFavorite(isFavorite)\"\n          />\n        </div>\n      </div>\n      <div class=\"body-text element\">\n        € {{ houseprop.price.toLocaleString(\"en-US\") }}\n      </div>\n      <div class=\"listing-information text-grey element\">\n        {{ houseprop.location.zip }} {{ houseprop.location.city }}\n      </div>\n      <div class=\"listing-information text-grey\">\n        <img src=\"@/assets/ic_bed@3x.png\" alt=\"ic_bed\" width=\"10\" height=\"10\" />\n        {{ houseprop.rooms.bedrooms }}\n        <img\n          src=\"@/assets/ic_bath@3x.png\"\n          alt=\"ic_bath\"\n          width=\"10\"\n          height=\"10\"\n        />\n        {{ houseprop.rooms.bathrooms }}\n        <img\n          src=\"@/assets/ic_size@3x.png\"\n          alt=\"ic_size\"\n          width=\"10\"\n          height=\"10\"\n        />\n        {{ houseprop.size }} m²\n      </div>\n    </div>\n  </div>\n  <DeleteConfirmationAlert\n    :houseId=\"houseprop.id\"\n    v-if=\"showAlert\"\n    @hideAlert=\"toggleAlert(false)\"\n  />\n</template>\n\n<script>\nimport { reactive, toRefs, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport DeleteConfirmationAlert from \"./Alerts/DeleteConfirmationAlert.vue\";\n\nexport default {\n  name: \"HouseCard\",\n  props: {\n    houseprop: {\n      type: null,\n      required: true,\n    },\n    isRecommandation: {\n      type: Boolean,\n      default: false,\n      required: false,\n    },\n  },\n  setup(props, context) {\n    const store = useStore();\n\n    const state = reactive({\n      showAlert: false,\n    });\n\n    const isFavorite = computed({\n      get: () => {\n        return store.getters[\"favoriteStore/isFavorite\"](props.houseprop.id);\n      },\n      set: (value) => {\n        return value;\n      },\n    });\n\n    function toggleAlert(showAlert) {\n      state.showAlert = showAlert;\n      context.emit(\"toggleAlert\", showAlert);\n    }\n\n    function toggleFavorite(favorite) {\n      favorite = !favorite\n      if (favorite == false) {\n        console.log(isFavorite);\n        store.dispatch(\"favoriteStore/addToFavorites\", props.houseprop.id);\n      } else {\n        console.log(isFavorite);\n        store.dispatch(\"favoriteStore/removeFromFavorites\", props.houseprop.id);\n      }\n    }\n\n    return {\n      ...toRefs(state),\n      toggleAlert,\n      isFavorite,\n\n      toggleFavorite,\n    };\n  },\n  emits: [\"toggleAlert\"],\n  components: {\n    DeleteConfirmationAlert,\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.card {\n  transition: 0.3s;\n  width: 100%;\n  border-radius: 5px;\n  display: flex;\n  background: map-get($colors, BACKGROUND2);\n  margin-bottom: 20px;\n\n  &:hover {\n    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);\n  }\n  .card-header {\n    display: flex;\n    justify-content: space-between;\n  }\n  .image {\n    border-radius: 15px;\n    padding: 10px;\n    width: 15%;\n  }\n\n  .container {\n    margin: 2%;\n    width: 80%;\n    .element {\n      margin-bottom: 5px;\n    }\n  }\n  .spacer {\n    width: 10px;\n  }\n}\n\n.recommandation {\n  .image {\n    border-radius: 15px;\n    padding: 10px;\n    width: 26%;\n  }\n  .tab-button {\n    font-size: 16px;\n  }\n  .listing-information {\n    font-size: 14px;\n  }\n  .body-text {\n    @extend .openSans-Regular;\n    font-size: 14px;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}