{"ast":null,"code":"import { reactive, toRefs, ref } from \"vue\";\nexport default {\n  props: {\n    houseImage: {\n      type: String,\n      required: false\n    }\n  },\n  setup(props, context) {\n    const fileInput = ref(null);\n    const state = reactive({\n      previewImage: null\n    });\n    function uploadImage(e) {\n      const image = e.target.files[0];\n      const reader = new FileReader();\n      reader.readAsDataURL(image);\n      reader.onload = e => {\n        state.previewImage = e.target.result;\n        context.emit(\"selectImage\", {\n          image: image,\n          previewImage: state.previewImage\n        });\n      };\n    }\n    function removeImage() {\n      fileInput.value.value = null;\n      state.previewImage = null;\n      context.emit(\"selectImage\", {\n        image: null,\n        previewImage: null\n      });\n    }\n    return {\n      ...toRefs(state),\n      fileInput,\n      uploadImage,\n      removeImage\n    };\n  }\n};","map":{"version":3,"mappings":"AAoBA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,GAAE,QAAS,KAAK;AAE3C,eAAe;EACbC,KAAK,EAAE;IACLC,UAAU,EAAE;MACVC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,KAAK,CAACL,KAAK,EAAEM,OAAO,EAAE;IACpB,MAAMC,SAAQ,GAAIR,GAAG,CAAC,IAAI,CAAC;IAE3B,MAAMS,KAAI,GAAIX,QAAQ,CAAC;MACrBY,YAAY,EAAE;IAChB,CAAC,CAAC;IAEF,SAASC,WAAW,CAACC,CAAC,EAAE;MACtB,MAAMC,KAAI,GAAID,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAC/B,MAAMC,MAAK,GAAI,IAAIC,UAAU,EAAE;MAC/BD,MAAM,CAACE,aAAa,CAACL,KAAK,CAAC;MAC3BG,MAAM,CAACG,MAAK,GAAKP,CAAC,IAAK;QACrBH,KAAK,CAACC,YAAW,GAAIE,CAAC,CAACE,MAAM,CAACM,MAAM;QACpCb,OAAO,CAACc,IAAI,CAAC,aAAa,EAAE;UAC1BR,KAAK,EAAEA,KAAK;UACZH,YAAY,EAAED,KAAK,CAACC;QACtB,CAAC,CAAC;MACJ,CAAC;IACH;IAEA,SAASY,WAAW,GAAG;MACrBd,SAAS,CAACe,KAAK,CAACA,KAAI,GAAI,IAAI;MAC5Bd,KAAK,CAACC,YAAW,GAAI,IAAI;MACzBH,OAAO,CAACc,IAAI,CAAC,aAAa,EAAE;QAC1BR,KAAK,EAAE,IAAI;QACXH,YAAY,EAAE;MAChB,CAAC,CAAC;IACJ;IACA,OAAO;MACL,GAAGX,MAAM,CAACU,KAAK,CAAC;MAChBD,SAAS;MAETG,WAAW;MACXW;IACF,CAAC;EACH;AACF,CAAC","names":["reactive","toRefs","ref","props","houseImage","type","String","required","setup","context","fileInput","state","previewImage","uploadImage","e","image","target","files","reader","FileReader","readAsDataURL","onload","result","emit","removeImage","value"],"sourceRoot":"","sources":["/Users/frostmoon/Documents/DTT projects/Vue js/house-listing-app/src/components/UploadImageComponent.vue"],"sourcesContent":["<template>\n  <div>\n    <div v-if=\"previewImage\" class=\"uploading-image-container\">\n      <button @click=\"removeImage\" class=\"close\">\n        <span>&times;</span>\n      </button>\n      <img alt=\"upload\" :src=\"previewImage\" />\n    </div>\n    <div v-else-if=\"houseImage\" class=\"uploading-image-container\">\n      <button @click=\"removeImage\" class=\"close\">\n        <span>&times;</span>\n      </button>\n      <img alt=\"upload\" :src=\"houseImage\" />\n    </div>\n    <img v-else src=\"@/assets/ic_upload@3x.png\" class=\"uploading-image\" />\n    <input type=\"file\" accept=\"image/jpeg\" @change=\"uploadImage\" ref=\"fileInput\"/>\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs, ref } from \"vue\";\n\nexport default {\n  props: {\n    houseImage: {\n      type: String,\n      required: false,\n    },\n  },\n  setup(props, context) {\n    const fileInput = ref(null);\n\n    const state = reactive({\n      previewImage: null,\n    });\n\n    function uploadImage(e) {\n      const image = e.target.files[0];\n      const reader = new FileReader();\n      reader.readAsDataURL(image);\n      reader.onload = (e) => {\n        state.previewImage = e.target.result;\n        context.emit(\"selectImage\", {\n          image: image,\n          previewImage: state.previewImage,\n        });\n      };\n    }\n\n    function removeImage() {\n      fileInput.value.value = null;\n      state.previewImage = null;\n      context.emit(\"selectImage\", {\n        image: null,\n        previewImage: null,\n      });\n    }\n    return {\n      ...toRefs(state),\n      fileInput,\n\n      uploadImage,\n      removeImage,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.uploading-image-container {\n  position: relative;\n  width: 100px;\n  height: 100px;\n  img {\n    width: 100%;\n    height: 100%;\n    border-radius: 5px;\n  }\n  .close {\n    top: -5px;\n    right: -10px;\n    position: absolute;\n    border: none;\n    border-radius: 20px;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}