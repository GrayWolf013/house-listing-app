{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  name: \"DeleteConfirmationAlert\",\n  props: {\n    houseId: {\n      type: Number,\n      required: true\n    }\n  },\n  setup(props, context) {\n    const store = useStore();\n    const router = useRouter();\n    function hideAlert() {\n      context.emit(\"hideAlert\");\n    }\n    function deleteHouse() {\n      store.dispatch(\"deleteHouse\", props.houseId).then(() => {\n        // API success\n        context.emit(\"hideAlert\");\n        router.push({\n          name: \"home\"\n        });\n        console.log(\"data deleted\");\n      }).catch(() => {\n        // API fail\n        console.log(\"error in request delete\");\n      });\n    }\n    return {\n      hideAlert,\n      deleteHouse\n    };\n  },\n  emits: [\"hideAlert\"]\n};","map":{"version":3,"mappings":";AA6BA,SAASA,QAAO,QAAS,MAAM;AAC/B,SAASC,SAAQ,QAAS,YAAY;AAEtC,eAAe;EACbC,IAAI,EAAE,yBAAyB;EAC/BC,KAAK,EAAE;IACLC,OAAO,EAAE;MACPC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,KAAK,CAACL,KAAK,EAAEM,OAAO,EAAE;IACpB,MAAMC,KAAI,GAAIV,QAAQ,EAAE;IACxB,MAAMW,MAAK,GAAIV,SAAS,EAAE;IAE1B,SAASW,SAAS,GAAG;MACnBH,OAAO,CAACI,IAAI,CAAC,WAAW,CAAC;IAC3B;IAEA,SAASC,WAAW,GAAG;MACrBJ,KAAI,CACDK,QAAQ,CAAC,aAAa,EAAEZ,KAAK,CAACC,OAAO,EACrCY,IAAI,CAAC,MAAM;QACV;QACAP,OAAO,CAACI,IAAI,CAAC,WAAW,CAAC;QACzBF,MAAM,CAACM,IAAI,CAAC;UAAEf,IAAI,EAAE;QAAO,CAAC,CAAC;QAC7BgB,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;MAC7B,CAAC,EACAC,KAAK,CAAC,MAAM;QACX;QACAF,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;MACxC,CAAC,CAAC;IACN;IAEA,OAAO;MACLP,SAAS;MACTE;IACF,CAAC;EACH,CAAC;EACDO,KAAK,EAAE,CAAC,WAAW;AACrB,CAAC","names":["useStore","useRouter","name","props","houseId","type","Number","required","setup","context","store","router","hideAlert","emit","deleteHouse","dispatch","then","push","console","log","catch","emits"],"sourceRoot":"","sources":["/Users/frostmoon/Documents/DTT projects/Vue js/house-listing-app/src/components/Alerts/DeleteConfirmationAlert.vue"],"sourcesContent":["<template>\n  <div class=\"alert\">\n    <div class=\"container\">\n      <div class=\"header2\">Delete listing</div>\n      <div class=\"listing-information text-darkgrey\">\n        Are you sure you want to delete this listing? <br />\n        This action cannot be undone.\n      </div>\n      <br />\n      <div class=\"buttons\">\n        <button\n          @click.prevent=\"deleteHouse\"\n          class=\"ok-button input-field-title\"\n        >\n          YES, DELETE\n        </button>\n        <br />\n        <button\n          @click.prevent=\"hideAlert\"\n          class=\"cancel-button input-field-title\"\n        >\n          GO BACK\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\n\nexport default {\n  name: \"DeleteConfirmationAlert\",\n  props: {\n    houseId: {\n      type: Number,\n      required: true,\n    },\n  },\n  setup(props, context) {\n    const store = useStore();\n    const router = useRouter();\n\n    function hideAlert() {\n      context.emit(\"hideAlert\");\n    }\n\n    function deleteHouse() {\n      store\n        .dispatch(\"deleteHouse\", props.houseId)\n        .then(() => {\n          // API success\n          context.emit(\"hideAlert\");\n          router.push({ name: \"home\" });\n          console.log(\"data deleted\");\n        })\n        .catch(() => {\n          // API fail\n          console.log(\"error in request delete\");\n        });\n    }\n\n    return {\n      hideAlert,\n      deleteHouse,\n    };\n  },\n  emits: [\"hideAlert\"],\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.alert {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: row;\n  text-align: center;\n  .container {\n    background-color: white;\n    padding: 40px 120px;\n    border-radius: 15px;\n  }\n  .header2 {\n    margin-bottom: 20px;\n  }\n  .listing-information {\n    margin-bottom: 32px;\n  }\n  .buttons {\n    display: grid;\n    button {\n      width: 100%;\n      margin-right: 16px;\n      padding: 8px 16px;\n      border: none;\n      border-radius: 4px;\n      cursor: pointer;\n      pointer-events: auto;\n    }\n    button.cancel-button {\n      background-color: map-get($colors, SECONDARY);\n      color: #fff;\n    }\n    button.ok-button {\n      background-color: map-get($colors, PRIMARY);\n      color: #fff;\n    }\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}